<!doctype html><html class="no-js"><head><meta charset="utf-8"><title>SVBRDF Estimation</title><meta name="description" content=""><meta name="viewport" content="width=device-width">
<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
<link href="http://fonts.googleapis.com/css?family=Raleway:300,400,600" rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css" href="style.css">
        <script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>
        <!--<link rel="stylesheet" href="styles/main.37ab405b.css">-->
<body>
<!--[if lt IE 7]>
<p class="browsehappy">You are using an 
    <strong>outdated</strong> browser. Please 
    <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.
</p>
<![endif]-->
<div class="container">

    <nav class="navbar">
        <div class="container">
            <ul class="navbar-list">
                <li class="navbar-item">
                    <a class="navbar-link" href="#introduction">Introduction</a>
                </li>
                <li class="navbar-item">
                    <a class="navbar-link" href="#motivation">Motivation</a>
                </li>
                <li class="navbar-item">
                    <a class="navbar-link" href="#fundamentals">Fundamentals</a>
                </li>
                <li class="navbar-item">
                    <a class="navbar-link" href="#method">Method</a>
                </li>
                <li class="navbar-item">
                    <a class="navbar-link" href="#evaluation">Evaluation</a>
                </li>
                <li class="navbar-item">
                    <a class="navbar-link" href="#conclusion">Conclusion</a>
                </li>
                <li class="navbar-item">
                    <a class="navbar-link" href="#images">Images</a>
                </li>
                <li class="navbar-item">
                    <a class="navbar-link" href="#tables">Tables</a>
                </li>
                <li class="navbar-item">
                    <a class="navbar-link" href="#code">Code</a>
                </li>
                <li class="navbar-item">
                    <a class="navbar-link" href="#math">Math</a>
                </li>
                <li class="navbar-item">
                    <a class="navbar-link" href="#downloads">Downloads</a>
                </li>
                <li class="navbar-item">
                    <a class="navbar-link" href="#references">References</a>
                </li>
            </ul>
        </div>
    </nav>

    <section class="header" id="abstract">
        <h2 class="title">SVBRDF Estimation using a Physically-based Differentiable Renderer</h2>
        <h6>Project by Markus Andreas Worchel (<a href="mailto:m.worchel@campus.tu-berlin.de">m.worchel@campus.tu-berlin.de</a>)
        </h6>

        <div class="row">
<!--            <div class="one column category" style="text-align: center;">-->
                <h5 class="docs-header">Teaser Image</h5>
                <img class="u-max-full-width" src="images/teaser_full.jpg">
                    <p>
                        Estimating scene parameters like geometry and material solely from images 
                        has been a widely researched topic, especially in the domain of computer vision. 
                        While there are well established methods for geometric reconstruction that are often 
                        able to leverage implicit knowledge about the camera setup, material reconstruction 
                        is a more ill-conditioned inverse problem. Recent advances in machine learning and 
                        computer graphics enable data driven approaches that use sophisticated light transport 
                        simulations for both, data generation as well as novel training objectives. 
                        So-called differentiable renderers allow using appearance-based objective functions for 
                        the training of neural networks by making the rendering operation differentiable with 
                        respect to arbitrary scene parameters.  
                        - Many methods use handcrafted renderers for the specific use case. 
                        - Scope of project: Integrate general renderer (pathtracer) into a pipeline for material reflectance estimation .
                    </p>
        </div>
    </section>

    <div class="docs-section" id="motivation">
        <h3 class="section-heading">Motivation</h3>

        <p>
            Recent advances in computer graphics allow presenting virtual environments with quality closer
            to photo realism than ever before. This requires not only physically correct light transport
            simulations but also high quality assets that faithfully capture objects of the real world.
            Several industries including game development <a href="#brown_2016">[4]</a><a href="#bishop_2017">[5]</a>, movie production [NEEDCITATION] as well as projects concerned
            with cultural heritage [NEEDCITATION] rely on photogrammetry for asset acquisition.
            It allows reconstructing geometry and color information of real world objects
            only based on images, thus is a relatively light-weight capture process yielding
            high quality assets. While geometry reconstruction can be automated for the most parts due to the 
            availability of robust algorithms, appearance-related material properties of the surfaces 
            like their reflectance behavior often have to be manually defined by artists.
        </p>

        <p>
            Such photogrammetry workflows would greatly benefit from methods that provide automatic deduction of these 
            appearant material properties, especially if they support a light-weight capture process without expensive
            and difficult to deploy hardware. In this context, image-based approaches appear to be particularly interesting
            as they could be easily integrated into existing workflows.<br/>
            - Name research work focusing on material (reflectance) estimation<br/>
            - Name the specific paper and problem<br/>
            - Name the goal
        </p>

    </div>

    <div class="docs-section" id="fundamentals">
        <h3 class="section-heading">Fundamentals</h3>

        <h5>Material Model</h5>

        <div class="u-pull-right" style="text-align: center; width:300px; margin-left:20px">
            <h5 id="fig:svbrdf" class="docs-header">Figure 2</h5>
            <img class="u-max-full-width" src="images/fundamentals_svbrdf.png">
            <p>
                Visualization of the parameters of a SVBRDF. \(\mathbf{x}\) is a spatial position on the surface, 
                \(\mathbf{\omega}_i\) the direction of irradiance and \(\mathbf{\omega}_o\) the direction
                of reflected radiance. \(\mathbf{n}\) is the local normal.
            </p> 
        </div>

        <p>
            In computer graphics, material reflectance properties are typically given as 
            bidirectional reflectance distribution function (BRDF) \( f_r(\mathbf{\omega}_i, \mathbf{\omega}_o) \) 
            which defines the fraction of irradiance coming from 
            direction \(\mathbf{\omega}_i\) that is reflected towards the direction \(\mathbf{\omega}_o\) [NEEDCITATION]. 
            The given directions are relative to the local coordinate system defined by the surface normal \(\mathbf{n}\).
            If the surface of an object is not fully homogeneous, the concept is usually extended by introducing a dependence
            on the specific surface point under investigation. With \(\mathbf{x}\) being a point on the surface,
            the spatially varying BRDF (SVBRDF) is then \(f_r(\mathbf{x}, \mathbf{\omega}_i, \mathbf{\omega}_o)\).
            <a href="#fig:svbrdf">Figure 2</a> shows a visualization of the SVBRDF parameters.        
        </p>

        <p>
            - Cook-Torrance microfacet model<br/>
            -- Surface consists of small differently oriented microfacets<br/>
            -- Isotropic specular reflection -> only relative difference between \(\mathbf{\omega}_i\) and \(\mathbf{\omega}_o\) matter<br/>
            - Four maps -> normal (in tangent space as variation from the macroscopic surface normal), diffuse albedo, roughness, specular albedo<br/>
            (- Flat surface)
        </p>

        <h5>Local and Global Shading</h5>

        <p>
            - Local shading vs pathtracing(?)
        </p>
    </div>

    <div class="docs-section" id="method">
        <h3 class="section-heading">SVBRDF Estimation from Images</h3>

        <p>
            The approach of Deschaintre et al. <a href="#3">[3]</a> is used as base of this project.
            They present a method for estimating spatially varying material reflectance properties from flash-lit images of
            a surface. One of their main assumptions is that of a flat surface, i.e., the geometric normal is constant
            and small scale variations can be captured by a normal map. They also assume, that the reflectance properties
            can be sufficiently represented by the Cook-Torrance model, which is for example not possible for anisotropic materials
            like brushed metals. With these assumptions, they cast material estimation as an image to image transformation problem.
            A three channel RGB image is transformed into a nine channel SVBRDF image, where two channels represent the normal 
            (the z coordinate can be inferred from the x and y coordinates), three channels represent the diffuse albedo, one
            channel represents the roughness and the last three represent the specular albedo.
        </p>

        <h5>Architecture</h5>

        <p>
            To solve this problem, they use a learning-based approach which relies on a classical encoder-decoder network
            structure and an appearance-based loss function. 
            - Architecture
        </p>

        <h5>Training Objective</h5>

        <p>
            - Rendering loss
        </p>

        <h5>Implementation</h5>

        <div class="row">
            <div class="one-half column category" style="text-align: center;">
                <h5 class="docs-header">Video Title</h5>
                <video class="u-max-full-width" controls>
                    <source src="videos/optimization_local_fixed.mp4" type="video/ogg">
                    Your browser does not support the video tag.
                </video>
                <p>Video description</p>
            </div>
            <div class="one-half column category" style="text-align: center;">
                <h5 class="docs-header">Video Title</h5>
                <video class="u-max-full-width" controls>
                    <source src="videos/optimization_local_flex.mp4" type="video/ogg">
                    Your browser does not support the video tag.
                </video>
                <p>Video description</p>
            </div>
        </div>

        <h5>Pathtracer Integration</h5>

    </div>

    <div class="docs-section" id="evaluation">
        <h3 class="section-heading">Evaluation</h3>

        - Comparison with my local renderer to reference renderer (reimplementation)

        - Comparison between my local renderer and pathtracer
        -- Training time
        -- Qualitative comparisons
        -- Quantitative comparisons (SSIM)
    </div>

    <div class="docs-section" id="conclusion">
        <h3 class="section-heading">Conclusion</h3>
    </div>

    <div class="docs-section" id="images">
        <h3 class="section-heading">Images</h3>
        <p class="section-description">Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>

        <h5>Images in columns</h5>

        <div class="row">
            <div class="one-half column category" style="text-align: center;">
                <h5 class="docs-header">Image 1</h5>
                <img class="u-max-full-width" src="images/empty.jpg">
                    <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua.</p>
            </div>
            <div class="one-half column category" style="text-align: center;">
                <h5 class="docs-header">Image 2</h5>
                <img class="u-max-full-width" src="images/empty.jpg">
                    <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua.</p>
            </div>
        </div>

        <div class="row">
            <div class="one-third column category" style="text-align: center;">
                <h5 class="docs-header">Bunny</h5>
                <img class="u-max-full-width" src="images/empty.jpg">
                <p>An empty image.</p>
                </div>

                <div class="one-third column category" style="text-align: center;">
                <h5 class="docs-header">Superbunny</h5>
                <img class="u-max-full-width" src="images/empty.jpg">
                <p>An second empty image.</p>
                </div>

                <div class="one-third column category" style="text-align: center;">
                <h5 class="docs-header">Megabunny</h5>
                <img class="u-max-full-width" src="images/empty.jpg">
                <p>A super empty image.</p>
            </div>
        </div>

        <h5>Text and Images</h5>

        <div class="u-pull-right" style="text-align: center; width:300px; margin-left:20px">
            <h5 id="figure2" class="docs-header">Figure 2</h5>
            <img class="u-max-full-width" src="images/empty.jpg">
            <p>I shall not write fancy figure descriptions. I shall not write fancy image descriptions. I shall not write fancy graph descriptions.</p>
        </div>

        <p>
            This text can float around <a href="#figure2">figure 2</a>.
            It can also contain linebreaks and new paragraphs.<br>
            This is how a linebreak looks.
        </p>
        <p>
           Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.
        </p>

        <p>
           Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diamneses voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata ita sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diamneses voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata ita sanctus est Lorem ipsum dolor sit amet.
        </p>

        <h5>Moving Images aka Videos</h5>

        <div class="row">
            <div class="one-half column category" style="text-align: center;">
                <h5 class="docs-header">Voronoi Generation</h5>
                <video class="u-max-full-width" controls>
                    <source src="videos/voronoi.ogg" type="video/ogg">
                    Your browser does not support the video tag.
                </video>
                <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diamneses voluptua.</p>
            </div>
            <div class="one-half column category" style="text-align: center;">
                <h5 class="docs-header">Voronoi Generation</h5>
                <video class="u-max-full-width" controls>
                    <source src="videos/voronoi.ogg" type="video/ogg">
                    Your browser does not support the video tag.
                </video>
                <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diamneses voluptua.</p>
            </div>
        </div>

    </div>


    <div class="docs-section" id="Tables">
        <h3 class="section-heading">Tables</h3>
        <p class="section-description">At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata ita sanctus est Lorem ipsum dolor sit amet.</p>
        <div class="row">
            <div class="one-half column category" style="text-align: center;">
                <h5 class="docs-header">Table 1</h5>
                <table class="u-full-width">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Value</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Laplace</td>
                            <td>26</td>
                            <td>---</td>
                        </tr>
                        <tr>
                            <td>Beltrami</td>
                            <td>42</td>
                            <td>n/a</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="one-half column category" style="text-align: center;">
                <h5 class="docs-header">Table 2</h5>
                <table class="u-full-width">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Value</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Laplace</td>
                            <td>26</td>
                            <td>---</td>
                        </tr>
                        <tr>
                            <td>Beltrami</td>
                            <td>42</td>
                            <td>n/a</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="row">
            <div class="one-half column category">
                <h5 class="docs-header">Unordered Lists</h5>
                <ul>
                    <li>Unordered lists have basic styles</li>
                    <li>
                      They use the circle list style
                      <ul>
                        <li>Nested lists styled to feel right</li>
                        <li>Can nest either type of list into the other</li>
                      </ul>
                    </li>
                </ul>
            </div>
            <div class="one-half column category">
                <h5 class="docs-header">Ordered Lists</h5>
                <ol>
                    <li>Ordered lists also have basic styles</li>
                    <li>
                      They use the decimal list style
                      <ul>
                        <li>Ordered and unordered can be nested</li>
                      </ul>
                    </li>
                    <li>Last list item just for the fun</li>
                </ol>
            </div>
        </div>
    </div>

    <div class="docs-section" id="code">
        <h3 class="section-heading">Code</h3>
        <p class="section-description">At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata ita sanctus est Lorem ipsum dolor sit amet.</p>
        <pre>
            <code>def load_image(nr, flat=True):
    img = io.imread(get_path(nr), as_grey=True)
    if flat:
        # print(img.shape)
        img = img.reshape(-1)
        # print(np.amin(img), np.amax(img))
    print("Loaded img " + str(nr))
    return img
</code>
        </pre>
        <p>
            Inline code snippets <code>are also possible</code> as this beautiful <code>super code i++; 0x34</code> shows.
        </p>
    </div>

    <div class="docs-section" id="math">
        <h3 class="section-heading">Math</h3>
        <p class="section-description">Mathematic formulations such as \(f(x) = 3 \cdot x + \epsilon \cdot y\) are powered by MathJax <a href="#2">[2]</a>. They can be written (amongst other possibilities) in \(\LaTeX\) notation. Besides in-line mathematics, displayed equations are possible:
\[\nabla \times H = J_c + \frac{\partial D}{\partial t}\]
        </p>
    </div>

    <div class="docs-section" id="downloads">
        <h3 class="section-heading">Downloads</h3>

        <h5>Presentations</h5>
        
        <p>    
            Topic Presentation (<a href="slides/topic.pdf">pdf</a>, <a href="slides/topic.pptx">pptx</a>) <br>
            Technical Presentation* (<a href="slides/technical.pdf">pdf</a>, <a href="slides/technical.pptx">pptx</a>)<br>
            Intermediate Presentation* (<a href="slides/intermediate.pdf">pdf</a>, <a href="slides/intermediate.pptx">pptx</a>)<br>
            Final Presentation* (<a href="slides/final.pdf">pdf</a>, <a href="slides/final.pptx">pptx</a>)
        </p>

        <p>*videos only in pptx<p></p>

        <h5>Data and Code</h5>

        https://github.com/mworchel/svbrdf-estimation
    </div>

    <div class="docs-section" id="references">
        <h3 class="section-heading">References</h3>
        <ul class="popover-list">
            <li class="popover-item" id="1">
                <!--A link to this may look like: <a href="#1">[1]</a>-->
                [1] Einstein, A. et al., The problem of space, ether and the field in physics, <i>Man and the universe, 1947</i>.
            </li>
          
            <li class="popover-item" id="2">
                [2] MathJax, <a href="https://www.mathjax.org">https://www.mathjax.org</a>, last retrieved 09-2015
            </li>
            
            <li class="popover-item" id="3">
                [3] Deschaintre, V., Aittala, M., Durand, F., Drettakis, G., Bousseau, A., 2018, Single-Image SVBRDF Capture with a Rendering-Aware Deep Network.
            </li>

            <li class="popover-item" id="brown_2016">
                [4] Brown, K., Hamilton, A., 2016, Photogrammetry and 'Star Wars Battlefront', GDC 2016, <a href="https://www.gdcvault.com/play/1022981/Photogrammetry-and-Star-Wars-Battlefront">https://www.gdcvault.com/play/1022981/Photogrammetry-and-Star-Wars-Battlefront</a>, last retrieved March 2020
            </li>

            <li class="popover-item" id="bishop_2017">
                [5] Bishop, L., Cowan, C., Jancosek, M., 2017,  	Photogrammetry for Games: Art, Technology and Pipeline Integration for Amazing Worlds, GDC 2017, <a href="https://www.gdcvault.com/play/1024340/Photogrammetry-for-Games-Art-Technology">https://www.gdcvault.com/play/1024340/Photogrammetry-for-Games-Art-Technology</a>, last retrieved March 2020
            </li>
        </ul>
    </div>

</div>

